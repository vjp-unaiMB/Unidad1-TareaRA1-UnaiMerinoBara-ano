
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../EjecucionYDepuracion/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Elementos de python - PPS-Unidad1-Pruebas_de_APP's</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="light-green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#elementos-de-python" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="PPS-Unidad1-Pruebas_de_APP&#39;s" class="md-header__button md-logo" aria-label="PPS-Unidad1-Pruebas_de_APP's" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PPS-Unidad1-Pruebas_de_APP's
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Elementos de python
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="light-green"  aria-label="Cambiar a modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambiar a modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="light-green"  aria-label="Cambiar a modo claro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambiar a modo claro" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Inicio

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  Elementos de python

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../EjecucionYDepuracion/" class="md-tabs__link">
        
  
  
    
  
  Ejecución y depuración

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../Pruebas/" class="md-tabs__link">
        
  
  
    
  
  Pruebas

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../EjecucionEnSandbox/" class="md-tabs__link">
        
  
  
    
  
  Ejecucion en Sandbox

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../ComparacionEstructuralDeLenguajesFamosos/" class="md-tabs__link">
        
  
  
    
  
  Comparacion de lenguajes

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="PPS-Unidad1-Pruebas_de_APP&#39;s" class="md-nav__button md-logo" aria-label="PPS-Unidad1-Pruebas_de_APP's" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    PPS-Unidad1-Pruebas_de_APP's
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inicio
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Elementos de python
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Elementos de python
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#caracteristicas-importantes-del-programa" class="md-nav__link">
    <span class="md-ellipsis">
      
        Características importantes del programa.
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#analisis-del-codigo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Análisis del código
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Análisis del código">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mainpy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Main.py
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lavaderopy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lavadero.py
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../EjecucionYDepuracion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ejecución y depuración
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Pruebas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pruebas
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../EjecucionEnSandbox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ejecucion en Sandbox
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ComparacionEstructuralDeLenguajesFamosos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Comparacion de lenguajes
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="elementos-de-python">Elementos de Python</h1>
<p>Dentro de este apartado explicaremos el funcionamiento del programa <strong><em>Lavadero</em></strong> analizando las estructuras que lo componen.</p>
<h2 id="caracteristicas-importantes-del-programa">Características importantes del programa.</h2>
<p><strong>Ideas Claras</strong></p>
<ul>
<li>
<p>La primera característica y la más importante es que este programa ha sido elaborado en el lenguaje de programación Python</p>
</li>
<li>
<p>Emplea el paradigma de programación orientado a objetos. Este paradigma de programación consiste en la creación de objetos mediante clases. Dentro de estas clases, se estructuran los atributos y características que queremos que contengan nuestros objetos a la hora de ser creados, lo que nos lleva a analizar su estructuración.</p>
</li>
<li>
<p>La estructura de este programa se compone de dos archivos, </p>
<ol>
<li>
<p>El primero de ellos se llama main, es el fichero principal y donde compienza la ejecución del programa, por lo que deducimos que es donde se van a crear los objetos y otros bloques de código que interactuarán con los objetos.</p>
</li>
<li>
<p>El segundo fichero es la clase <strong><em>lavadero</em></strong>. Dentro de esta clase se declaran las constantes y variables que conformarán las características de las que dispondrá el objeto <strong><em>lavadero</em></strong>. La clase también está conformada por otras estructuras que se encargan de que dichas variables sean manipulables. Aquí es donde entran:</p>
<ul>
<li><strong>Constructores:</strong> Estas estructuras se encargan de agrupar los parámetros introducidos durante la creación de un bobjeto <strong><em>lavadero</em></strong> y aplicar cada valor a la propiedad correspondiente del objeto.</li>
</ul>
</li>
<li>
<p><strong>@property's</strong>  Estos elementos se encargan de devolver el valor de un atribuo de un objeto en caso de llamada.</p>
</li>
<li>
<p><strong>Métodos internos</strong> Nos servirán para realizar algoridmos internos y automatizar características y comportamientos del objeto en base a nuestros parámetros.</p>
</li>
</ol>
</li>
</ul>
<h2 id="analisis-del-codigo">Análisis del código</h2>
<p>Desglosaremos cada uno de los archivos que conforman <strong><em>Lavadero</em></strong>.</p>
<h3 id="mainpy">Main.py</h3>
<p>Encabezamos el fichero importando la clase lavadero.</p>
<pre><code>from lavadero import Lavadero
</code></pre>
<p>Este método encarga de simular el proceso de lavado para un vehículo con las opciones dadas introduciendo los siguientes parámetros:
* <code>lavadero</code>: Instancia de Lavadero.
* <code>prelavado</code>: bool, True si se solicita prelavado a mano.
* <code>secado_mano</code>: bool, True si se solicita secado a mano.
* <code>encerado</code>: bool, True si se solicita encerado.</p>
<p>Tras ello, pinta por pantalla las opciones introducidas y anuncia el inicio de la simulación. También captura excepciones mediante la estructura <code>Try</code></p>
<p>Al comenzar la simulación pasa el valor de las fases a 0 Imprime el estado de cada prueba y avanza fase por fase hasta llegar al final, imprimiendo la información en cada parte.</p>
<pre><code>def ejecutarSimulacion(lavadero, prelavado, secado_mano, encerado):

    print(&quot;--- INICIO: Prueba de Lavado con Opciones Personalizadas ---&quot;)
    print(f&quot;Opciones solicitadas: [Prelavado: {prelavado}, Secado a mano: {secado_mano}, Encerado: {encerado}]&quot;)

    # 1. Iniciar el lavado
    try:
        lavadero.hacerLavado(prelavado, secado_mano, encerado)
        lavadero.imprimir_estado()

        print(&quot;\nAVANZANDO FASE POR FASE:&quot;)

        pasos = 0
        while lavadero.ocupado and pasos &lt; 20: 
            # El cobro ahora ocurre en la primera llamada a avanzarFase (transición 0 -&gt; 1)
            lavadero.avanzarFase()
            print(f&quot;-&gt; Fase actual: &quot;, end=&quot;&quot;)
            lavadero.imprimir_fase()
            print() 
            pasos += 1

        print(&quot;\n----------------------------------------&quot;)
        print(&quot;Lavado completo. Estado final:&quot;)
        lavadero.imprimir_estado()
        print(f&quot;Ingresos acumulados: {lavadero.ingresos:.2f} €&quot;)
        print(&quot;----------------------------------------&quot;)

    except ValueError as e: # Captura la excepción de regla de negocio (Requisito 2)
        print(f&quot;ERROR DE ARGUMENTO: {e}&quot;)
    except RuntimeError as e: # Captura la excepción de estado (Requisito 3)
        print(f&quot;ERROR DE ESTADO: {e}&quot;)
    except Exception as e:
        print(f&quot;ERROR INESPERADO: {e}&quot;)
</code></pre>
<p>En este punto del código, tras los métodos vistos, encontramos el lugar desde donde empezará a ejecutarse el código. Tras este comentario, si el fichero es main, creará una instancia del lavadero sin concretar ningún parámetro. Tras ello, se llamará al método <code>ejecutarSimulacion()</code> aquí será donde introduciremos por parámetro la instanca y sus características principales. Según lo que introduzcamos, <code>ejecutarSimulacion()</code> añadirá los valores añadidos de cada complemento, dejando un formato resultante que nos permitirá comparar cada prueba. Disponiendo de 4 ejemplos. </p>
<p>En este caso nos encontramos con el <strong>EJEMPLO 1:</strong></p>
<pre><code># Punto de entrada (main): Aquí pasamos los parámetros
if __name__ == &quot;__main__&quot;:

    lavadero_global = Lavadero() 

    # EJEMPLO 1: Lavado completo con prelavado, secado a mano, con encerado (Requisito 8 y 14)
    # Precio esperado: 5.00 + 1.50 + 1.00 + 1.20 = 8.70 €
    print(&quot;\n=======================================================&quot;)
    print(&quot;EJEMPLO 1: Prelavado (S), Secado a mano (S), Encerado (S)&quot;)
    ejecutarSimulacion(lavadero_global, prelavado=True, secado_mano=True, encerado=True)
</code></pre>
<p><strong>EJEMPLO 2:</strong> Lavado rápido sin extras (Precio esperado: 5.00 €)</p>
<pre><code>    print(&quot;\n=======================================================&quot;)
    print(&quot;EJEMPLO 2: Sin extras (Prelavado: N, Secado a mano: N, Encerado: N)&quot;)
    ejecutarSimulacion(lavadero_global, prelavado=False, secado_mano=False, encerado=False)
</code></pre>
<p><strong>EJEMPLO 3:</strong> Lavado con encerado, pero sin secado a mano (Debe lanzar ValueError - Requisito 2)</p>
<pre><code>    print(&quot;\n=======================================================&quot;)
    print(&quot;EJEMPLO 3: ERROR (Encerado S, Secado a mano N)&quot;)
    ejecutarSimulacion(lavadero_global, prelavado=False, secado_mano=False, encerado=True)
</code></pre>
<p><strong>EJEMPLO 4:</strong> Lavado con prelavado a mano (Requisito 4 y 10) Precio esperado: 5.00 + 1.50 = 6.50 €</p>
<pre><code>    print(&quot;\n=======================================================&quot;)
    print(&quot;EJEMPLO 4: Prelavado (S), Secado a mano (N), Encerado (N)&quot;)
    ejecutarSimulacion(lavadero_global, prelavado=True, secado_mano=False)
</code></pre>
<h3 id="lavaderopy">Lavadero.py</h3>
<p>Como comenté anteriormente, esta fichero es donde se declara la estructura de un objeto, como si fuera un molde. Como nuestro programa emula el funcionamiento de un <strong><em>lavadero</em></strong>, esta clase es indispensable para poder crear dicho objeto. </p>
<p>Vamos a analiar la clase <strong><em>lavadero</em></strong>.</p>
<pre><code class="language-python"># lavadero.py

class Lavadero:

    FASE_INACTIVO = 0
    FASE_COBRANDO = 1
    FASE_PRELAVADO_MANO = 2
    FASE_ECHANDO_AGUA = 3
    FASE_ENJABONANDO = 4
    FASE_RODILLOS = 5
    FASE_SECADO_AUTOMATICO = 6
    FASE_SECADO_MANO = 7
    FASE_ENCERADO = 8

</code></pre>
<p>Justo debajo contamos con un un constructor de la clase un constructor no es más que una estructura que se encarga de inicializar el <strong>objeto</strong> lavadero, añadiendo una serie de valores predeterminados a sus <strong>variables</strong>. A demás, también puede invocar métodos, como es el caso de la última sentencia <code>self.terminar()</code></p>
<pre><code class="language-python">def __init__(self):
        self.__ingresos = 0.0
        self.__fase = self.FASE_INACTIVO
        self.__ocupado = False
        self.__prelavado_a_mano = False
        self.__secado_a_mano = False
        self.__encerado = False
        self.terminar() 

</code></pre>
<p>Las estructuras que contienen el decorador @property son convertidas en un <strong>método</strong> de solo lectura, permitiendo acceder a atributos privados de forma directa mediante objeto. Cada uno de estos métodos, nos devolverá el valor de cada propiedad del objeto al ser invocada.</p>
<p>En este caso:</p>
<ul>
<li>Fase</li>
<li>Ingresos (Numérico)</li>
<li>Ocupado (Booleano)</li>
<li>prelavado_a_mano (Booleano)</li>
<li>Secado_a_mano (Booleano)</li>
<li>Encerado (Booleano)</li>
</ul>
<pre><code class="language-python">
    @property
    def fase(self):
        return self.__fase

    @property
    def ingresos(self):
        return self.__ingresos

    @property
    def ocupado(self):
        return self.__ocupado

    @property
    def prelavado_a_mano(self):
        return self.__prelavado_a_mano

    @property
    def secado_a_mano(self):
        return self.__secado_a_mano

    @property
    def encerado(self):
        return self.__encerado
</code></pre>
<p>Este <strong>méodo terminar</strong> se encarga de poner los valores de las variables del objeto (fase,ocupado,prelavado_a_mano,secado_a_mano y encerado) a <em>false</em>.</p>
<pre><code class="language-python">
    def terminar(self):
        self.__fase = self.FASE_INACTIVO
        self.__ocupado = False
        self.__prelavado_a_mano = False
        self.__secado_a_mano = False
        self.__encerado = False

</code></pre>
<p>Este <strong>méodo hacerLavado</strong> se encarga de dar feedback al usuario sobre el lavadero. Controla los valores de las variables del objeto (ocupado,secado_a_mano y encerado mediante una estructura de if e if not, de tamlanera que si el lavadero está ocupado, le advertirá al usuario que no puede ocuparlo haste que se libere. Si se puede entrar, cambiará de valor las variables del lavadero a las indicadas y avisará sobre el encerado manual.</p>
<pre><code class="language-python">

    def hacerLavado(self, prelavado_a_mano, secado_a_mano, encerado):
        if self.__ocupado:
            raise RuntimeError(&quot;No se puede iniciar un nuevo lavado mientras el lavadero está ocupado&quot;)

        if not secado_a_mano and encerado:
            raise ValueError(&quot;No se puede encerar el coche sin secado a mano&quot;)

        self.__fase = self.FASE_INACTIVO  
        self.__ocupado = True
        self.__prelavado_a_mano = prelavado_a_mano
        self.__secado_a_mano = secado_a_mano
        self.__encerado = encerado

</code></pre>
<p>Este <strong>méodo cobrar</strong> se encarga de calcular y añadir los ingresos según las opciones seleccionadas de lavado.
Se fija un precio base: 5.00€ y va añadiendo un incremento según los extras añadidos, se controla mediane varias estructuras IF. Finalmente, retorna el valor del ingreso total con el <strong>Return</strong>.</p>
<pre><code class="language-python">
    def _cobrar(self):
        &quot;&quot;&quot;
         (Implícito, 5.00€ de base + 1.50€ de prelavado + 1.00€ de secado + 1.20€ de encerado = 8.70€)
        &quot;&quot;&quot;
        coste_lavado = 5.00

        if self.__prelavado_a_mano:
            coste_lavado += 1.50 

        if self.__secado_a_mano:
            coste_lavado += 1.20 

        if self.__encerado:
            coste_lavado += 1.00 

        self.__ingresos += coste_lavado
        return coste_lavado
</code></pre>
<p>Este <strong>método avanzarFase</strong> nos permite cambiar la fase según la fase en la que nos encontramos, está compuesto por una estructura de ifs que controlan la dase en la que se encuentra el usuario y según en la que se encuentre realiza una función distinta. En algunas de estas fases, ejecuta invocaciones a otros métodos y reproduce mensajes.</p>
<pre><code class="language-python">def avanzarFase(self):

        if not self.__ocupado:
            return

        if self.__fase == self.FASE_INACTIVO:
            coste_cobrado = self._cobrar()
            self.__fase = self.FASE_COBRANDO
            print(f&quot; (COBRADO: {coste_cobrado:.2f} €) &quot;, end=&quot;&quot;)

        elif self.__fase == self.FASE_COBRANDO:
            if self.__prelavado_a_mano:
                self.__fase = self.FASE_PRELAVADO_MANO
            else:
                self.__fase = self.FASE_ECHANDO_AGUA 

        elif self.__fase == self.FASE_PRELAVADO_MANO:
            self.__fase = self.FASE_ECHANDO_AGUA

        elif self.__fase == self.FASE_ECHANDO_AGUA:
            self.__fase = self.FASE_ENJABONANDO

        elif self.__fase == self.FASE_ENJABONANDO:
            self.__fase = self.FASE_RODILLOS

        elif self.__fase == self.FASE_RODILLOS:
            if self.__secado_a_mano:
                self.__fase = self.FASE_SECADO_AUTOMATICO 

            else:
                self.__fase = self.FASE_SECADO_MANO

        elif self.__fase == self.FASE_SECADO_AUTOMATICO:
            self.terminar()

        elif self.__fase == self.FASE_SECADO_MANO:

            self.terminar() 

        elif self.__fase == self.FASE_ENCERADO:
            self.terminar() 

        else:
            raise RuntimeError(f&quot;Estado no válido: Fase {self.__fase}. El lavadero va a estallar...&quot;)

</code></pre>
<p>Este <strong>método imprimir fase</strong> Se invoca junto a un parámetro numérico. Genera un mapa de frases que controlaremos mediante el parámetro introducido, al final del método se hace un print en el que se invoca el mala de frases pasando directamente el parámetro.</p>
<pre><code class="language-python">
    def imprimir_fase(self):
        fases_map = {
            self.FASE_INACTIVO: &quot;0 - Inactivo&quot;,
            self.FASE_COBRANDO: &quot;1 - Cobrando&quot;,
            self.FASE_PRELAVADO_MANO: &quot;2 - Haciendo prelavado a mano&quot;,
            self.FASE_ECHANDO_AGUA: &quot;3 - Echándole agua&quot;,
            self.FASE_ENJABONANDO: &quot;4 - Enjabonando&quot;,
            self.FASE_RODILLOS: &quot;5 - Pasando rodillos&quot;,
            self.FASE_SECADO_AUTOMATICO: &quot;6 - Haciendo secado automático&quot;,
            self.FASE_SECADO_MANO: &quot;7 - Haciendo secado a mano&quot;,
            self.FASE_ENCERADO: &quot;8 - Encerando a mano&quot;,
        }
        print(fases_map.get(self.__fase, f&quot;{self.__fase} - En estado no válido&quot;), end=&quot;&quot;)


</code></pre>
<p>Este <strong>método imprimir_estado</strong> Se invoca junto a un parámetro numérico. Imprime una serie de sentencias en las que se informa del estado de lavado al usuario.</p>
<pre><code class="language-python">def imprimir_estado(self):
        print(&quot;----------------------------------------&quot;)
        print(f&quot;Ingresos Acumulados: {self.ingresos:.2f} €&quot;)
        print(f&quot;Ocupado: {self.ocupado}&quot;)
        print(f&quot;Prelavado a mano: {self.prelavado_a_mano}&quot;)
        print(f&quot;Secado a mano: {self.secado_a_mano}&quot;)
        print(f&quot;Encerado: {self.encerado}&quot;)
        print(&quot;Fase: &quot;, end=&quot;&quot;)
        self.imprimir_fase()
        print(&quot;\n----------------------------------------&quot;)

</code></pre>
<p>Este <strong>método ejecutar_y_obtener_fases</strong> Se invoca junto a un parámetro numérico y 3 parámetros adicionales referentes a prelavado, secado y encerado. Imprime una serie de sentencias en las que se informa del estado de lavado al usuario. Ejecutando un ciclo completo y devolviendo un array de en lista de fases visitadas.</p>
<pre><code class="language-python">
    def ejecutar_y_obtener_fases(self, prelavado, secado, encerado):
        self.lavadero.hacerLavado(prelavado, secado, encerado)
        fases_visitadas = [self.lavadero.fase]

        while self.lavadero.ocupado:
            # Usamos un límite de pasos para evitar bucles infinitos en caso de error
            if len(fases_visitadas) &gt; 15:
                raise Exception(&quot;Bucle infinito detectado en la simulación de fases.&quot;)
            self.lavadero.avanzarFase()
            fases_visitadas.append(self.lavadero.fase)

        return fases_visitadas

</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.instant", "toc.integrate"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>